<!DOCTYPE html>

<html>
<head>
  <title>Beego</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous"
  />

  <style type="text/css">
    *,body {
      margin: 0px;
      padding: 0px;
    }

    body {
      margin: 0px;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 14px;
      line-height: 20px;
      background-color: #fff;
    }

  </style>
</head>

<body>

  <div class="container-fluid">
    <div class="container bg-primary" style="margin-top: 70px; width: 700px">
      <div class="row">
        <div class="col-lg-6 mt-4">
          <form>
            <label>Order</label>
            <select class="form-select" aria-label="Default select example" name="order" id="order">
              <option value="asc">Random</option>
              <option value="asc">Ascending</option>
              <option value="desc">Descending</option>
            </select>
            
          </form>
        </div>
        <div class="col-lg-6 mt-4">
          <!-- <form>
            <label>Type</label>
            <select class="form-select" aria-label="Default select example" name="order" id="order">
              <option value="asc">All</option>
              <option value="asc">Static</option>
              <option value="desc">Animated</option>
            </select>
          </form> -->
        </div>
        
      </div>
      <div class="row">
        <div class="col-lg-6 mt-4">
          <!-- <form>
            <label>Category</label>
            <select class="form-select" aria-label="Default select example" name="breed" id="breed">
              <option value="tang">Turkish Angora</option>
              <option value="sfol">Scottish Fold</option>
            </select>
          </form> -->
        </div>
        <div class="col-lg-6 mt-4">
          <form>
            <label>Breed</label>
            <select class="form-select" aria-label="Default select example" name="breed" id="breed">
              <option value="tang">Turkish Angora</option>
              <option value="sfol">Scottish Fold</option>
            </select>
          
          </form>
        </div>
        
      </div>
      <br/>
      <br/>
      <div class="row" id="result">

        {{range $i,$val := .catdata}}
        <div class="col-lg-4 mb-2">
          <img style="height: 150px; width: 200px" src="{{$val.Url}}"/>
        </div>
        {{end}}
      </div>
    </div>

  </div>
  

  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  
  <script type="text/javascript">
      (function() {
          $breed = $("#breed");
          $order = $("#order");
          $breed.on('change', function() {
              $.ajax({
                  type: "GET",
                  url: "/cat",
                  data: {"breed": $breed.val(), "order": $order.val()}
                  
              }).done(function(response) {
                    let data = response;
                    console.log(data);
                    let html_data = "";

                    $.each(data, function(key, value) {
                      html_data += '<div class="col-md-4 mb-5 ">',
                      html_data += '<img src="' + value.url + '" width="200" height="150"></img>',
                      html_data += '</div>'
                    })

                    $("#result").html(html_data);
              });
          });

          $order.on('change', function() {
              $.ajax({
                  type: "GET",
                  url: "/cat",
                  data: {"breed": $breed.val(), "order": $order.val()}
              }).done(function(response) {
                  let data = response;
                  console.log(data);
                  let html_data = "";

                  $.each(data, function(key, value) {
                    html_data += '<div class="col-md-4 mb-5 ">',
                    html_data += '<img src="' + value.url + '" width="200" height="150"></img>',
                    html_data += '</div>'
                  })

                  $("#result").html(html_data);
              });
          });
      })();
  </script>
  <!-- <script src="/static/js/reload.min.js"></script> -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"
  ></script>
</body>
</html>
